<button (click)="openDialog()">Otvori dijalog</button>

<button color="primary" (click)="onAddClicked()" mat-icon-button>
    <mat-icon>add</mat-icon>
</button>
<div class="container">
    <div class="row">
        <div class="column">
            <div class="key-point-form">
                <xp-key-point-form
                    [shouldEdit]="shouldEdit"
                    [longLat]="mapLongLat"
                    [keyPoint]="selectedKeyPoint"
                    (keyPointUpdated)="getKeyPoints()"
                ></xp-key-point-form>
            </div>
        </div>
        <div class="column">
            <div class="map-container">
                <xp-map
                    [isKeyPointMap]="true"
                    [refreshEvents]="refreshEventsSubject"
                    (newLongLatEvent)="mapLongLat = $event"
                    [selectedKeyPoint]="selectedKeyPoint"
                    [canEdit]="shouldRenderKeyPointForm"
                ></xp-map>
            </div>
        </div>
    </div>
    <hr />
    <div class="cards">
        <div class="row">
            <div
                class="list-cards-button"
                id="prev-button"
                (click)="scrollToPrevCard()"
            >
                <div class="triangle-left"></div>
            </div>
            <div class="key-point-cards-container">
                <div
                    *ngFor="let kp of keyPoints"
                    class="cards-buttons-container"
                >
                    <xp-key-point-card [keyPoint]="kp"> </xp-key-point-card>
                    <div class="buttons-container">
                        <button
                            (click)="deleteKeyPoint(kp.id || 0)"
                            mat-icon-button
                        >
                            <mat-icon>delete</mat-icon>
                        </button>
                        <button
                            color="primary"
                            (click)="onEditClicked(kp)"
                            mat-icon-button
                        >
                            <mat-icon>edit</mat-icon>
                        </button>
                    </div>
                </div>
            </div>
            <div
                class="list-cards-button"
                id="next-button"
                (click)="scrollToNextCard()"
            >
                <div class="triangle-right"></div>
            </div>
            <div id="key-points">
                <p class="text">Manage tours key points:</p>
                <hr />
                <div id="key-point-details" class="container">
                    <div id="one">
                        <br />
                        <mat-label *ngIf="areButtonsEnabled" class="text"
                            >Choose types of transport:
                        </mat-label>
                        <mat-label *ngIf="!areButtonsEnabled" class="text"
                            >Chosen types of transportation:
                        </mat-label>
                        <table *ngIf="!areButtonsEnabled">
                            <tr *ngIf="checkedWalkingDuration">
                                <td>
                                    <mat-label>Walking</mat-label>
                                </td>
                                <td>{{ walkingDuration }} minutes</td>
                            </tr>
                            <tr *ngIf="checkedBicycleRideDuration">
                                <td>
                                    <mat-label>Bicycle ride</mat-label>
                                </td>
                                <td>{{ bicycleRideDuration }} minutes</td>
                            </tr>
                            <tr *ngIf="checkedCarRideDuration">
                                <td>
                                    <mat-label>Car ride</mat-label>
                                </td>
                                <td>{{ carRideDuration }} minutes</td>
                            </tr>
                        </table>
                        <br />
                        <table
                            *ngIf="areButtonsEnabled"
                            [formGroup]="checkBoxForm"
                        >
                            <tr>
                                <td>
                                    <mat-label>Walking</mat-label>
                                </td>
                                <td>
                                    <input
                                        formControlName="onFootChecked"
                                        type="checkbox"
                                    />
                                </td>
                                <td>{{ walkingDuration }} minutes</td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-label>Bicycle ride</mat-label>
                                </td>
                                <td>
                                    <input
                                        formControlName="bicycleRideChecked"
                                        type="checkbox"
                                    />
                                </td>
                                <td>{{ bicycleRideDuration }} minutes</td>
                            </tr>
                            <tr>
                                <td>
                                    <mat-label>Car ride</mat-label>
                                </td>
                                <td>
                                    <input
                                        formControlName="carRideChecked"
                                        type="checkbox"
                                    />
                                </td>
                                <td>{{ carRideDuration }} minutes</td>
                            </tr>
                        </table>
                        <button
                            id="back-button"
                            color="primary"
                            (click)="onBackClicked()"
                            mat-raised-button
                        >
                            Back
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
